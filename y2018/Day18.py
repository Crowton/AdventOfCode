# .|....|.|.#|.#..|.#..||#..|.||#|#|||.....#......#.
# .....||..||.|#.......#.|.....|....#..|..|.|.#..|.#
# .#.#......|#.#..|......|.......|.|.|..#.#......#|.
# .#.....#..|..#..|#..|#|......#...#||.|...##...#..|
# |......|..#.#.#....|..#..#..#|##....#.....|.|#..#.
# .....|..#....#..|.#.....|..#...|###.|||###...#.||.
# |...##.#..|...||.....#.|.#|#|........#.|#|..|..#.|
# .....|......|........#...#..|||||#|#||.|...|...#..
# .....||..#.||.......|..|.|##..##|#..|.#..|#.##.#..
# .|#.#|..||.|.|.|..|.|...|#.|.|..##.|#.#..|...|#||.
# .|||....#||##..#.....|#...#....|.#|..#|.|...|###.#
# #...|....|......#..#.#......||.||....#|##....#|#|#
# |.|....#.#|#..|....|.#...|.|||.|.|#|....#..|......
# #...|.....#...#|................|..#||#|....#.....
# ..||....#..|.....|||..#|...|#|.#.|..#|..|.|#|....#
# ....##|##|.|#.#.|||#.#..|...#|.|.###.#.|......|||#
# .....##|.|.#...#..#.........|..|...#.|...#...|....
# ##.#.#...#.|..|||#...||..#|#.#||#|#|..#.##....|...
# #.|..#||.|#|....#...##.....|.#..#....|...|#.|#....
# ||.##...|...|..|...#......|.##.#.#|..#.#.|.......#
# #....#|..#.......|||......|..#........|..|..#..|..
# .|.........####..|.|....#....##.|....|...#|.|.||..
# ......##|#.#...#...|||......|.#.|||...||........|.
# #.|..|...#.#....#|......||......|.....#...#....#..
# ...|.|#|#.............#.||.|..|####..|..#.##|.||#.
# ..#..|...||#....#.#..#.|..|#|.||.#...|||#..#|..#..
# #|#|..||#|.|..|...|.....#..#..#..|#.|#....|.||||..
# ....##||...|#|..#.|#....|...|.#.|...#...|#.##.#.#.
# ...|||||.#...###.|#.|.|......#...|...|...##.#.#|.|
# |.|..##...|...|.......||..|..#.#|..|.|#|||....||..
# ..|.#|.#.|.|..|.#.|.##..|..|.#|.......#.....#.#.|.
# ...#...|..#.........#..##...........#....|..#.....
# .#...|....|#|#.##.......#......|#..|.|...........#
# |......#.#||.#.||..|......|....#..#|...##...|#...|
# |.#..##||.........|||.#.#.##|#||##......|||.#..##|
# |...|.|#|...#.##|..#..#||||||.||#|.#...#|....#|.||
# ||#..|.#.......||.|....#..|..|#.......#||.|##|....
# |.|..#.||##...##.....#............||.|#|.....##...
# #.#..|..||.|.|#.......#|..#..|.#|........#.##.####
# ...#.|.|.#|...#.#..|.....|.#.#.|......#|.||.|.....
# .|.##...#.#||.##.#.||...#...|||...|.##..##..|##...
# ..##.|...#....|.#..||....|..##..#|.||...#..#......
# ...##.#.|||......|..|#.|..#.|#.....|#|....#..#|.#|
# .#.||.|#.##..||.#.||||#..##.##..#.....#.##.#.#.#.|
# .#|#|.....#..#..##.......|.|#|....#.........#|....
# #....|.#..|.#|##.##...|...|..#.|....#.#.||.#.#....
# .####|.....|.|..#...|.#|#...#...||.#|.|.|..|#.....
# ##|#.#.........|.......#...#....||#|..|##...#.#|.#
# ###||#.#|....#.......|...#.#.#....|#|#|#..|..|#|#.
# .|...#..#..|.....##|#....|||#..#...|..#.|...|##|..

size = 50

card = [' ' * (size + 2)]

for i in range(size):
    card.append(' ' + input() + ' ')

card.append(' ' * (size + 2))

for i in range(10):
    cards2 = [' ' * (size + 2)]
    for y in range(1, size + 1):
        line = ' '
        for x in range(1, size + 1):
            around = card[y-1][x-1] + card[y-1][x] + card[y-1][x+1] + card[y][x-1] + card[y][x+1] + card[y+1][x-1] + card[y+1][x] + card[y+1][x+1]
            if card[y][x] == '.':
                if around.count('|') >= 3:
                    line += '|'
                else:
                    line += '.'
            elif card[y][x] == '|':
                if around.count('#') >= 3:
                    line += '#'
                else:
                    line += '|'
            else:
                if around.count('#') >= 1 and around.count('|') >= 1:
                    line += '#'
                else:
                    line += '.'
        line += ' '
        cards2.append(line)
    cards2.append(' ' * (size + 2))
    card = cards2

    print()
    for y in range(1, size+1):
        for x in range(1, size+1):
            print(card[y][x], end="")
        print()

wood = 0
lumber = 0
for y in range(1, size+1):
    for x in range(1, size+1):
        if card[y][x] == '|':
            wood += 1
        elif card[y][x] == '#':
            lumber += 1

print(wood)
print(lumber)
print(wood * lumber)

# seen = {}
#
# for i in range(1000000000):
#     if ''.join(card) in seen:
#         c = seen[''.join(card)]
#         k = 1
#         while c != ''.join(card):
#             c = seen[c]
#             k += 1
#         print(i, k)
#
#         missing = (1000000000 - i) % k
#         for j in range(missing):
#             c = seen[c]
#
#         wood = 0
#         lumber = 0
#         for g in c:
#             if g == '|':
#                 wood += 1
#             elif g == '#':
#                 lumber += 1
#
#         print(wood)
#         print(lumber)
#         print(wood * lumber)
#
#         break
#     else:
#         cards2 = [' ' * (size + 2)]
#         for y in range(1, size + 1):
#             line = ' '
#             for x in range(1, size + 1):
#                 around = card[y-1][x-1] + card[y-1][x] + card[y-1][x+1] + card[y][x-1] + card[y][x+1] + card[y+1][x-1] + card[y+1][x] + card[y+1][x+1]
#                 if card[y][x] == '.':
#                     if around.count('|') >= 3:
#                         line += '|'
#                     else:
#                         line += '.'
#                 elif card[y][x] == '|':
#                     if around.count('#') >= 3:
#                         line += '#'
#                     else:
#                         line += '|'
#                 else:
#                     if around.count('#') >= 1 and around.count('|') >= 1:
#                         line += '#'
#                     else:
#                         line += '.'
#             line += ' '
#             cards2.append(line)
#         cards2.append(' ' * (size + 2))
#         seen[''.join(card)] = ''.join(cards2)
#         card = cards2


        # print()
        # for y in range(1, size+1):
        #     for x in range(1, size+1):
        #         print(card[y][x], end="")
        #     print()

        # if i % 100 == 0:
        #     print()
        #     print(i)
        #     print()
        #     for y in range(1, size+1):
        #         for x in range(1, size+1):
        #             print(card[y][x], end="")
        #         print()
        #     input()



